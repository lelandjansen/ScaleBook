/*
  ScaleBook
  ScaleBook.min.js
  v1.0.0
  Copyright (c) Leland Jansen 2015. All rights reserved.
*/

function replaceSpecialCharacters(a){"use strict";var e=[["#","-sharp"],["♯","-sharp"],["♭","-flat"],["♮","-natural"],["ó","o"],["'s",""],[",","-or-"],["'",""],[" ","-"]];for(i=0;i<e.length;i++)for(;a.indexOf(e[i][0])>-1;)a=a.replace(e[i][0],e[i][1]);return a=a.replace(/[^\w\s\-]/gi,"")}function letterToAccidental(a){"use strict";for(i=0;i<a.length;i++)2===a[i].length?/[cdeag01234567]/.test(a[i].charAt(0))?/[sfbn]/.test(a[i].charAt(1))&&(a[i]=a[i].replace("s","-sharp").replace("f","-flat").replace("b","-flat").replace("n","-natural")):/[fb]/.test(a[i].charAt(0))?/[sfbn]/.test(a[i].charAt(1))&&(a[i]=a[i].replace("s","-sharp").replace("n","-natural").replace("ff","f-flat").replace("fb","f-flat").replace("bf","b-flat").replace("bb","b-flat")):/ks/.test(a[i])&&(a[i]="key-signature"):5===a[i].length&&/flat/.test(a[i]&&"flats"!==a[i])?/[cdefgab]/.test(a[i].charAt(0))&&(a[i]=a[i].replace("flat","-flat")):6===a[i].length&&/sharp/.test(a[i])?/[cdefgab]/.test(a[i].charAt(0))&&(a[i]=a[i].replace("sharp","-sharp")):1===a[i].length&&"s"===a[i]&&(a[i]="sharp");return a}function fixTypo(a){"use strict";var e=[["sharp","sharps","harp","sarp","shrp","shap","shar","ssharp","shharp","shaarp","sharrp","sharpp","hsarp","sahrp","shrap","shapr","aharp","wharp","eharp","dharp","xharp","zharp","sgarp","syarp","suarp","sjarp","snarp","sbarp","shqrp","shwrp","shsrp","shxrp","shzrp","shaep","sha4p","sha5p","shatp","shagp","shafp","shadp","sharo","shar0","sharl","asharp","saharp","wsharp","swharp","esharp","seharp","dsharp","sdharp","xsharp","sxharp","zsharp","szharp","sgharp","shgarp","syharp","shyarp","suharp","shuarp","sjharp","shjarp","snharp","shnarp","sbharp","shbarp","shqarp","shaqrp","shwarp","shawrp","shsarp","shasrp","shxarp","shaxrp","shzarp","shazrp","shaerp","sharep","sha4rp","shar4p","sha5rp","shar5p","shatrp","shartp","shagrp","shargp","shafrp","sharfp","shadrp","shardp","sharop","sharpo","shar0p","sharp0","sharlp","sharpl","sharb","sharos"],["flat","flats","lat","fat","flt","fla","fflat","fllat","flaat","flatt","lfat","falt","flta","dlat","rlat","tlat","glat","vlat","clat","fkat","foat","fpat","flqt","flwt","flst","flxt","flzt","flar","fla5","fla6","flay","flah","flag","flaf","dflat","fdlat","rflat","frlat","tflat","ftlat","gflat","fglat","vflat","fvlat","cflat","fclat","fklat","flkat","folat","float","fplat","flpat","flqat","flaqt","flwat","flawt","flsat","flast","flxat","flaxt","flzat","flazt","flart","flatr","fla5t","flat5","fla6t","flat6","flayt","flaty","flaht","flath","flagt","flatg","flaft","flatf","flab"],["scale","scales","cale","sale","scle","scae","scal","sscale","sccale","scaale","scalle","scalee","csale","sacle","sclae","scael","acale","wcale","ecale","dcale","xcale","zcale","sxale","sdale","sfale","svale","scqle","scwle","scsle","scxle","sczle","scake","scaoe","scape","scalw","scal3","scal4","scalr","scalf","scald","scals","ascale","sacale","wscale","swcale","escale","secale","dscale","sdcale","xscale","sxcale","zscale","szcale","sxcale","scxale","sdcale","scdale","sfcale","scfale","svcale","scvale","scqale","scaqle","scwale","scawle","scsale","scasle","scxale","scaxle","sczale","scazle","scakle","scalke","scaole","scaloe","scaple","scalpe","scalwe","scalew","scal3e","scale3","scal4e","scale4","scalre","scaler","scalfe","scalef","scalde","scaled","scalse","scales"],["major","maj","majer","majors","ajor","mjor","maor","majr","majo","mmajor","maajor","majjor","majoor","majorr","amjor","mjaor","maojr","majro","najor","jajor","kajor","mqjor","mwjor","msjor","mxjor","mzjor","mahor","mauor","maior","makor","mamor","manor","majir","maj9r","maj0r","majpr","majlr","majkr","majoe","majo4","majo5","majot","majog","majof","majod","nmajor","mnajor","jmajor","mjajor","kmajor","mkajor","mqajor","maqjor","mwajor","mawjor","msajor","masjor","mxajor","maxjor","mzajor","mazjor","mahjor","majhor","maujor","majuor","maijor","majior","makjor","majkor","mamjor","majmor","manjor","majnor","majior","majoir","maj9or","majo9r","maj0or","majo0r","majpor","majopr","majlor","majolr","majkor","majokr","majoer","majore","majo4r","major4","majo5r","major5","majotr","majort","majogr","majorg","majofr","majorf","majodr","majord"],["minor","min","miner","minors","inor","mnor","mior","minr","mino","mminor","miinor","minnor","minoor","minorr","imnor","mnior","mionr","minro","ninor","jinor","kinor","munor","m8nor","m9nor","monor","mlnor","mknor","mjnor","mibor","mihor","mijor","mimor","minir","min9r","min0r","minpr","minlr","minkr","minoe","mino4","mino5","minot","minog","minof","minod","nminor","mninor","jminor","mjinor","kminor","mkinor","muinor","miunor","m8inor","mi8nor","m9inor","mi9nor","moinor","mionor","mlinor","milnor","mkinor","miknor","mjinor","mijnor","mibnor","minbor","mihnor","minhor","mijnor","minjor","mimnor","minmor","minior","minoir","min9or","mino9r","min0or","mino0r","minpor","minopr","minlor","minolr","minkor","minokr","minoer","minore","mino4r","minor4","mino5r","minor5","minotr","minort","minogr","minorg","minofr","minorf","minodr","minord"],["mode","modes","ode","mde","moe","mod","mmode","moode","modde","modee","omde","mdoe","moed","node","jode","kode","mide","m9de","m0de","mpde","mlde","mkde","mose","moee","more","mofe","moce","moxe","modw","mod3","mod4","modr","modf","modd","mods","nmode","mnode","jmode","mjode","kmode","mkode","miode","moide","m9ode","mo9de","m0ode","mo0de","mpode","mopde","mlode","molde","mkode","mokde","mosde","modse","moede","modee","morde","modre","mofde","modfe","mocde","modce","moxde","modxe","modwe","modew","mod3e","mode3","mod4e","mode4","modre","moder","modfe","modef","modde","moded","modse","modes"],["ionian","ion","onian","inian","ioian","ionan","ionin","ionia","iionian","ioonian","ionnian","ioniian","ioniaan","ioniann","oinian","inoian","ioinan","ionain","ionina","uonian","8onian","9onian","oonian","lonian","konian","jonian","iinian","i9nian","i0nian","ipnian","ilnian","iknian","iobian","iohian","iojian","iomian","ionuan","ion8an","ion9an","ionoan","ionlan","ionkan","ionjan","ioniqn","ioniwn","ionisn","ionixn","ionizn","ioniab","ioniah","ioniaj","ioniam","uionian","iuonian","8ionian","i8onian","9ionian","i9onian","oionian","ioonian","lionian","ilonian","kionian","ikonian","jionian","ijonian","iionian","ioinian","i9onian","io9nian","i0onian","io0nian","iponian","iopnian","ilonian","iolnian","ikonian","ioknian","iobnian","ionbian","iohnian","ionhian","iojnian","ionjian","iomnian","ionmian","ionuian","ioniuan","ion8ian","ioni8an","ion9ian","ioni9an","ionoian","ionioan","ionlian","ionilan","ionkian","ionikan","ionjian","ionijan","ioniqan","ioniaqn","ioniwan","ioniawn","ionisan","ioniasn","ionixan","ioniaxn","ionizan","ioniazn","ioniabn","ionianb","ioniahn","ionianh","ioniajn","ionianj","ioniamn","ionianm"],["dorian","dor","orian","drian","doian","doran","dorin","doria","ddorian","doorian","dorrian","doriian","doriaan","doriann","odrian","droian","doiran","dorain","dorina","sorian","eorian","rorian","forian","corian","xorian","dirian","d9rian","d0rian","dprian","dlrian","dkrian","doeian","do4ian","do5ian","dotian","dogian","dofian","dodian","doruan","dor8an","dor9an","doroan","dorlan","dorkan","dorjan","doriqn","doriwn","dorisn","dorixn","dorizn","doriab","doriah","doriaj","doriam","sdorian","dsorian","edorian","deorian","rdorian","drorian","fdorian","dforian","cdorian","dcorian","xdorian","dxorian","diorian","doirian","d9orian","do9rian","d0orian","do0rian","dporian","doprian","dlorian","dolrian","dkorian","dokrian","doerian","doreian","do4rian","dor4ian","do5rian","dor5ian","dotrian","dortian","dogrian","dorgian","dofrian","dorfian","dodrian","dordian","doruian","doriuan","dor8ian","dori8an","dor9ian","dori9an","doroian","dorioan","dorlian","dorilan","dorkian","dorikan","dorjian","dorijan","doriqan","doriaqn","doriwan","doriawn","dorisan","doriasn","dorixan","doriaxn","dorizan","doriazn","doriabn","dorianb","doriahn","dorianh","doriajn","dorianj","doriamn","dorianm"],["phrygian","phryg","hrygian","prygian","phygian","phrgian","phryian","phrygan","phrygin","phrygia","pphrygian","phhrygian","phrrygian","phryygian","phryggian","phrygiian","phrygiaan","phrygiann","hprygian","prhygian","phyrgian","phrgyian","phryigan","phrygain","phrygina","ohrygian","0hrygian","lhrygian","pgrygian","pyrygian","purygian","pjrygian","pnrygian","pbrygian","pheygian","ph4ygian","ph5ygian","phtygian","phgygian","phfygian","phdygian","phrtgian","phr6gian","phr7gian","phrugian","phrjgian","phrhgian","phrggian","phryfian","phrytian","phryyian","phryhian","phrybian","phryvian","phryguan","phryg8an","phryg9an","phrygoan","phryglan","phrygkan","phrygjan","phrygiqn","phrygiwn","phrygisn","phrygixn","phrygizn","phrygiab","phrygiah","phrygiaj","phrygiam","ophrygian","pohrygian","0phrygian","p0hrygian","lphrygian","plhrygian","pghrygian","phgrygian","pyhrygian","phyrygian","puhrygian","phurygian","pjhrygian","phjrygian","pnhrygian","phnrygian","pbhrygian","phbrygian","pherygian","phreygian","ph4rygian","phr4ygian","ph5rygian","phr5ygian","phtrygian","phrtygian","phgrygian","phrgygian","phfrygian","phrfygian","phdrygian","phrdygian","phrtygian","phrytgian","phr6ygian","phry6gian","phr7ygian","phry7gian","phruygian","phryugian","phrjygian","phryjgian","phrhygian","phryhgian","phrgygian","phryggian","phryfgian","phrygfian","phrytgian","phrygtian","phryygian","phrygyian","phryhgian","phryghian","phrybgian","phrygbian","phryvgian","phrygvian","phryguian","phrygiuan","phryg8ian","phrygi8an","phryg9ian","phrygi9an","phrygoian","phrygioan","phryglian","phrygilan","phrygkian","phrygikan","phrygjian","phrygijan","phrygiqan","phrygiaqn","phrygiwan","phrygiawn","phrygisan","phrygiasn","phrygixan","phrygiaxn","phrygizan","phrygiazn","phrygiabn","phrygianb","phrygiahn","phrygianh","phrygiajn","phrygianj","phrygiamn","phrygianm"],["lydian","lyd","ydian","ldian","lyian","lydan","lydin","lydia","llydian","lyydian","lyddian","lydiian","lydiaan","lydiann","yldian","ldyian","lyidan","lydain","lydina","kydian","oydian","pydian","ltdian","l6dian","l7dian","ludian","ljdian","lhdian","lgdian","lysian","lyeian","lyrian","lyfian","lycian","lyxian","lyduan","lyd8an","lyd9an","lydoan","lydlan","lydkan","lydjan","lydiqn","lydiwn","lydisn","lydixn","lydizn","lydiab","lydiah","lydiaj","lydiam","klydian","lkydian","olydian","loydian","plydian","lpydian","ltydian","lytdian","l6ydian","ly6dian","l7ydian","ly7dian","luydian","lyudian","ljydian","lyjdian","lhydian","lyhdian","lgydian","lygdian","lysdian","lydsian","lyedian","lydeian","lyrdian","lydrian","lyfdian","lydfian","lycdian","lydcian","lyxdian","lydxian","lyduian","lydiuan","lyd8ian","lydi8an","lyd9ian","lydi9an","lydoian","lydioan","lydlian","lydilan","lydkian","lydikan","lydjian","lydijan","lydiqan","lydiaqn","lydiwan","lydiawn","lydisan","lydiasn","lydixan","lydiaxn","lydizan","lydiazn","lydiabn","lydianb","lydiahn","lydianh","lydiajn","lydianj","lydiamn","lydianm"],["mixolydian","mixo","mixolyd","ixolydian","mxolydian","miolydian","mixlydian","mixoydian","mixoldian","mixolyian","mixolydan","mixolydin","mixolydia","mmixolydian","miixolydian","mixxolydian","mixoolydian","mixollydian","mixolyydian","mixolyddian","mixolydiian","mixolydiaan","mixolydiann","imxolydian","mxiolydian","mioxlydian","mixloydian","mixoyldian","mixoldyian","mixolyidan","mixolydain","mixolydina","nixolydian","jixolydian","kixolydian","muxolydian","m8xolydian","m9xolydian","moxolydian","mlxolydian","mkxolydian","mjxolydian","mizolydian","misolydian","midolydian","micolydian","mixilydian","mix9lydian","mix0lydian","mixplydian","mixllydian","mixklydian","mixokydian","mixooydian","mixopydian","mixoltdian","mixol6dian","mixol7dian","mixoludian","mixoljdian","mixolhdian","mixolgdian","mixolysian","mixolyeian","mixolyrian","mixolyfian","mixolycian","mixolyxian","mixolyduan","mixolyd8an","mixolyd9an","mixolydoan","mixolydlan","mixolydkan","mixolydjan","mixolydiqn","mixolydiwn","mixolydisn","mixolydixn","mixolydizn","mixolydiab","mixolydiah","mixolydiaj","mixolydiam","nmixolydian","mnixolydian","jmixolydian","mjixolydian","kmixolydian","mkixolydian","muixolydian","miuxolydian","m8ixolydian","mi8xolydian","m9ixolydian","mi9xolydian","moixolydian","mioxolydian","mlixolydian","milxolydian","mkixolydian","mikxolydian","mjixolydian","mijxolydian","mizxolydian","mixzolydian","misxolydian","mixsolydian","midxolydian","mixdolydian","micxolydian","mixcolydian","mixiolydian","mixoilydian","mix9olydian","mixo9lydian","mix0olydian","mixo0lydian","mixpolydian","mixoplydian","mixlolydian","mixollydian","mixkolydian","mixoklydian","mixoklydian","mixolkydian","mixoolydian","mixoloydian","mixoplydian","mixolpydian","mixoltydian","mixolytdian","mixol6ydian","mixoly6dian","mixol7ydian","mixoly7dian","mixoluydian","mixolyudian","mixoljydian","mixolyjdian","mixolhydian","mixolyhdian","mixolgydian","mixolygdian","mixolysdian","mixolydsian","mixolyedian","mixolydeian","mixolyrdian","mixolydrian","mixolyfdian","mixolydfian","mixolycdian","mixolydcian","mixolyxdian","mixolydxian","mixolyduian","mixolydiuan","mixolyd8ian","mixolydi8an","mixolyd9ian","mixolydi9an","mixolydoian","mixolydioan","mixolydlian","mixolydilan","mixolydkian","mixolydikan","mixolydjian","mixolydijan","mixolydiqan","mixolydiaqn","mixolydiwan","mixolydiawn","mixolydisan","mixolydiasn","mixolydixan","mixolydiaxn","mixolydizan","mixolydiazn","mixolydiabn","mixolydianb","mixolydiahn","mixolydianh","mixolydiajn","mixolydianj","mixolydiamn","mixolydianm"],["aeolian","aeol","eolian","aolian","aelian","aeoian","aeolan","aeolin","aeolia","aaeolian","aeeolian","aeoolian","aeollian","aeoliian","aeoliaan","aeoliann","eaolian","aoelian","aeloian","aeoilan","aeolain","aeolina","qeolian","weolian","seolian","xeolian","zeolian","awolian","a3olian","a4olian","arolian","afolian","adolian","asolian","aeilian","ae9lian","ae0lian","aeplian","aellian","aeklian","aeokian","aeooian","aeopian","aeoluan","aeol8an","aeol9an","aeoloan","aeollan","aeolkan","aeoljan","aeoliqn","aeoliwn","aeolisn","aeolixn","aeolizn","aeoliab","aeoliah","aeoliaj","aeoliam","qaeolian","aqeolian","waeolian","aweolian","saeolian","aseolian","xaeolian","axeolian","zaeolian","azeolian","aweolian","aewolian","a3eolian","ae3olian","a4eolian","ae4olian","areolian","aerolian","afeolian","aefolian","adeolian","aedolian","aseolian","aesolian","aeiolian","aeoilian","ae9olian","aeo9lian","ae0olian","aeo0lian","aepolian","aeoplian","aelolian","aeollian","aekolian","aeoklian","aeoklian","aeolkian","aeoolian","aeoloian","aeoplian","aeolpian","aeoluian","aeoliuan","aeol8ian","aeoli8an","aeol9ian","aeoli9an","aeoloian","aeolioan","aeollian","aeolilan","aeolkian","aeolikan","aeoljian","aeolijan","aeoliqan","aeoliaqn","aeoliwan","aeoliawn","aeolisan","aeoliasn","aeolixan","aeoliaxn","aeolizan","aeoliazn","aeoliabn","aeolianb","aeoliahn","aeolianh","aeoliajn","aeolianj","aeoliamn","aeolianm"],["locrian","loc","ocrian","lcrian","lorian","locian","locran","locrin","locria","llocrian","loocrian","loccrian","locrrian","locriian","locriaan","locriann","olcrian","lcorian","lorcian","lociran","locrain","locrina","kocrian","oocrian","pocrian","licrian","l9crian","l0crian","lpcrian","llcrian","lkcrian","loxrian","lodrian","lofrian","lovrian","loceian","loc4ian","loc5ian","loctian","locgian","locfian","locdian","locruan","locr8an","locr9an","locroan","locrlan","locrkan","locrjan","locriqn","locriwn","locrisn","locrixn","locrizn","locriab","locriah","locriaj","locriam","klocrian","lkocrian","olocrian","loocrian","plocrian","lpocrian","liocrian","loicrian","l9ocrian","lo9crian","l0ocrian","lo0crian","lpocrian","lopcrian","llocrian","lolcrian","lkocrian","lokcrian","loxcrian","locxrian","lodcrian","locdrian","lofcrian","locfrian","lovcrian","locvrian","locerian","locreian","loc4rian","locr4ian","loc5rian","locr5ian","loctrian","locrtian","locgrian","locrgian","locfrian","locrfian","locdrian","locrdian","locruian","locriuan","locr8ian","locri8an","locr9ian","locri9an","locroian","locrioan","locrlian","locrilan","locrkian","locrikan","locrjian","locrijan","locriqan","locriaqn","locriwan","locriawn","locrisan","locriasn","locrixan","locriaxn","locrizan","locriazn","locriabn","locrianb","locriahn","locrianh","locriajn","locrianj","locriamn","locrianm"],["blues","lues","bues","bles","blus","blue","bblues","bllues","bluues","bluees","bluess","lbues","bules","bleus","bluse","vlues","glues","hlues","nlues","bkues","boues","bpues","blyes","bl7es","bl8es","blies","blkes","bljes","blhes","bluws","blu3s","blu4s","blurs","blufs","bluds","bluss","bluea","bluew","bluee","blued","bluex","bluez","vblues","bvlues","gblues","bglues","hblues","bhlues","nblues","bnlues","bklues","blkues","bolues","bloues","bplues","blpues","blyues","bluyes","bl7ues","blu7es","bl8ues","blu8es","bliues","bluies","blkues","blukes","bljues","blujes","blhues","bluhes","bluwes","bluews","blu3es","blue3s","blu4es","blue4s","blures","bluers","blufes","bluefs","bludes","blueds","bluses","bluess","blueas","bluesa","bluews","bluesw","bluees","bluese","blueds","bluesd","bluexs","bluesx","bluezs","bluesz"],["chromatic","hromatic","cromatic","chomatic","chrmatic","chroatic","chromtic","chromaic","chromatc","chromati","cchromatic","chhromatic","chrromatic","chroomatic","chrommatic","chromaatic","chromattic","chromatiic","chromaticc","hcromatic","crhomatic","chormatic","chrmoatic","chroamtic","chromtaic","chromaitc","chromatci","xhromatic","dhromatic","fhromatic","vhromatic","cgromatic","cyromatic","curomatic","cjromatic","cnromatic","cbromatic","cheomatic","ch4omatic","ch5omatic","chtomatic","chgomatic","chfomatic","chdomatic","chrimatic","chr9matic","chr0matic","chrpmatic","chrlmatic","chrkmatic","chronatic","chrojatic","chrokatic","chromqtic","chromwtic","chromstic","chromxtic","chromztic","chromaric","chroma5ic","chroma6ic","chromayic","chromahic","chromagic","chromafic","chromatuc","chromat8c","chromat9c","chromatoc","chromatlc","chromatkc","chromatjc","chromatix","chromatid","chromatif","chromativ","xchromatic","cxhromatic","dchromatic","cdhromatic","fchromatic","cfhromatic","vchromatic","cvhromatic","cghromatic","chgromatic","cyhromatic","chyromatic","cuhromatic","churomatic","cjhromatic","chjromatic","cnhromatic","chnromatic","cbhromatic","chbromatic","cheromatic","chreomatic","ch4romatic","chr4omatic","ch5romatic","chr5omatic","chtromatic","chrtomatic","chgromatic","chrgomatic","chfromatic","chrfomatic","chdromatic","chrdomatic","chriomatic","chroimatic","chr9omatic","chro9matic","chr0omatic","chro0matic","chrpomatic","chropmatic","chrlomatic","chrolmatic","chrkomatic","chrokmatic","chronmatic","chromnatic","chrojmatic","chromjatic","chrokmatic","chromkatic","chromqatic","chromaqtic","chromwatic","chromawtic","chromsatic","chromastic","chromxatic","chromaxtic","chromzatic","chromaztic","chromartic","chromatric","chroma5tic","chromat5ic","chroma6tic","chromat6ic","chromaytic","chromatyic","chromahtic","chromathic","chromagtic","chromatgic","chromaftic","chromatfic","chromatuic","chromatiuc","chromat8ic","chromati8c","chromat9ic","chromati9c","chromatoic","chromatioc","chromatlic","chromatilc","chromatkic","chromatikc","chromatjic","chromatijc","chromatixc","chromaticx","chromatidc","chromaticd","chromatifc","chromaticf","chromativc","chromaticv"],["pentatonic","penta","entatonic","pntatonic","petatonic","penatonic","penttonic","pentaonic","pentatnic","pentatoic","pentatonc","pentatoni","ppentatonic","peentatonic","penntatonic","penttatonic","pentaatonic","pentattonic","pentatoonic","pentatonnic","pentatoniic","pentatonicc","epntatonic","pnetatonic","petnatonic","penattonic","penttaonic","pentaotnic","pentatnoic","pentatoinc","pentatonci","oentatonic","0entatonic","lentatonic","pwntatonic","p3ntatonic","p4ntatonic","prntatonic","pfntatonic","pdntatonic","psntatonic","pebtatonic","pehtatonic","pejtatonic","pemtatonic","penratonic","pen5atonic","pen6atonic","penyatonic","penhatonic","pengatonic","penfatonic","pentqtonic","pentwtonic","pentstonic","pentxtonic","pentztonic","pentaronic","penta5onic","penta6onic","pentayonic","pentahonic","pentagonic","pentafonic","pentatinic","pentat9nic","pentat0nic","pentatpnic","pentatlnic","pentatknic","pentatobic","pentatohic","pentatojic","pentatomic","pentatonuc","pentaton8c","pentaton9c","pentatonoc","pentatonlc","pentatonkc","pentatonjc","pentatonix","pentatonid","pentatonif","pentatoniv","opentatonic","poentatonic","0pentatonic","p0entatonic","lpentatonic","plentatonic","pwentatonic","pewntatonic","p3entatonic","pe3ntatonic","p4entatonic","pe4ntatonic","prentatonic","perntatonic","pfentatonic","pefntatonic","pdentatonic","pedntatonic","psentatonic","pesntatonic","pebntatonic","penbtatonic","pehntatonic","penhtatonic","pejntatonic","penjtatonic","pemntatonic","penmtatonic","penrtatonic","pentratonic","pen5tatonic","pent5atonic","pen6tatonic","pent6atonic","penytatonic","pentyatonic","penhtatonic","penthatonic","pengtatonic","pentgatonic","penftatonic","pentfatonic","pentqatonic","pentaqtonic","pentwatonic","pentawtonic","pentsatonic","pentastonic","pentxatonic","pentaxtonic","pentzatonic","pentaztonic","pentartonic","pentatronic","penta5tonic","pentat5onic","penta6tonic","pentat6onic","pentaytonic","pentatyonic","pentahtonic","pentathonic","pentagtonic","pentatgonic","pentaftonic","pentatfonic","pentationic","pentatoinic","pentat9onic","pentato9nic","pentat0onic","pentato0nic","pentatponic","pentatopnic","pentatlonic","pentatolnic","pentatkonic","pentatoknic","pentatobnic","pentatonbic","pentatohnic","pentatonhic","pentatojnic","pentatonjic","pentatomnic","pentatonmic","pentatonuic","pentatoniuc","pentaton8ic","pentatoni8c","pentaton9ic","pentatoni9c","pentatonoic","pentatonioc","pentatonlic","pentatonilc","pentatonkic","pentatonikc","pentatonjic","pentatonijc","pentatonixc","pentatonicx","pentatonidc","pentatonicd","pentatonifc","pentatonicf","pentatonivc","pentatonicv"],["whole","hole","wole","whle","whoe","whol","wwhole","whhole","whoole","wholle","wholee","hwole","wohle","whloe","whoel","qhole","2hole","3hole","ehole","dhole","shole","ahole","wgole","wyole","wuole","wjole","wnole","wbole","while","wh9le","wh0le","whple","whlle","whkle","whoke","whooe","whope","wholw","whol3","whol4","wholr","wholf","whold","whols","qwhole","wqhole","2whole","w2hole","3whole","w3hole","ewhole","wehole","dwhole","wdhole","swhole","wshole","awhole","wahole","wghole","whgole","wyhole","whyole","wuhole","whuole","wjhole","whjole","wnhole","whnole","wbhole","whbole","whiole","whoile","wh9ole","who9le","wh0ole","who0le","whpole","whople","whlole","wholle","whkole","whokle","whokle","wholke","whoole","wholoe","whople","wholpe","wholwe","wholew","whol3e","whole3","whol4e","whole4","wholre","wholer","wholfe","wholef","wholde","wholed","wholse","wholes"],["signature","sig","ignature","sgnature","sinature","sigature","signture","signaure","signatre","signatue","signatur","ssignature","siignature","siggnature","signnature","signaature","signatture","signatuure","signaturre","signaturee","isgnature","sginature","singature","siganture","signtaure","signautre","signatrue","signatuer","aignature","wignature","eignature","dignature","xignature","zignature","sugnature","s8gnature","s9gnature","sognature","slgnature","skgnature","sjgnature","sifnature","sitnature","siynature","sihnature","sibnature","sivnature","sigbature","sighature","sigjature","sigmature","signqture","signwture","signsture","signxture","signzture","signarure","signa5ure","signa6ure","signayure","signahure","signagure","signafure","signatyre","signat7re","signat8re","signatire","signatkre","signatjre","signathre","signatuee","signatu4e","signatu5e","signatute","signatuge","signatufe","signatude","signaturw","signatur3","signatur4","signaturr","signaturf","signaturd","signaturs","asignature","saignature","wsignature","swignature","esignature","seignature","dsignature","sdignature","xsignature","sxignature","zsignature","szignature","suignature","siugnature","s8ignature","si8gnature","s9ignature","si9gnature","soignature","siognature","slignature","silgnature","skignature","sikgnature","sjignature","sijgnature","sifgnature","sigfnature","sitgnature","sigtnature","siygnature","sigynature","sihgnature","sighnature","sibgnature","sigbnature","sivgnature","sigvnature","sigbnature","signbature","sighnature","signhature","sigjnature","signjature","sigmnature","signmature","signqature","signaqture","signwature","signawture","signsature","signasture","signxature","signaxture","signzature","signazture","signarture","signatrure","signa5ture","signat5ure","signa6ture","signat6ure","signayture","signatyure","signahture","signathure","signagture","signatgure","signafture","signatfure","signatyure","signatuyre","signat7ure","signatu7re","signat8ure","signatu8re","signatiure","signatuire","signatkure","signatukre","signatjure","signatujre","signathure","signatuhre","signatuere","signaturee","signatu4re","signatur4e","signatu5re","signatur5e","signatutre","signaturte","signatugre","signaturge","signatufre","signaturfe","signatudre","signaturde","signaturwe","signaturew","signatur3e","signature3","signatur4e","signature4","signaturre","signaturer","signaturfe","signaturef","signaturde","signatured","signaturse","signatures"],["relative","rel","elative","rlative","reative","reltive","relaive","relatve","relatie","relativ","rrelative","reelative","rellative","relaative","relattive","relatiive","relativve","relativee","erlative","rleative","realtive","reltaive","relaitve","relatvie","relatiev","eelative","4elative","5elative","telative","gelative","felative","delative","rwlative","r3lative","r4lative","rrlative","rflative","rdlative","rslative","rekative","reoative","repative","relqtive","relwtive","relstive","relxtive","relztive","relarive","rela5ive","rela6ive","relayive","relahive","relagive","relafive","relatuve","relat8ve","relat9ve","relatove","relatlve","relatkve","relatjve","relatice","relatife","relatige","relatibe","relativw","relativ3","relativ4","relativr","relativf","relativd","relativs","erelative","reelative","4relative","r4elative","5relative","r5elative","trelative","rtelative","grelative","rgelative","frelative","rfelative","drelative","rdelative","rwelative","rewlative","r3elative","re3lative","r4elative","re4lative","rrelative","rerlative","rfelative","reflative","rdelative","redlative","rselative","reslative","reklative","relkative","reolative","reloative","replative","relpative","relqative","relaqtive","relwative","relawtive","relsative","relastive","relxative","relaxtive","relzative","relaztive","relartive","relatrive","rela5tive","relat5ive","rela6tive","relat6ive","relaytive","relatyive","relahtive","relathive","relagtive","relatgive","relaftive","relatfive","relatuive","relatiuve","relat8ive","relati8ve","relat9ive","relati9ve","relatoive","relatiove","relatlive","relatilve","relatkive","relatikve","relatjive","relatijve","relaticve","relativce","relatifve","relativfe","relatigve","relativge","relatibve","relativbe","relativwe","relativew","relativ3e","relative3","relativ4e","relative4","relativre","relativer","relativfe","relativef","relativde","relatived","relativse","relatives"],["random","randome","andom","rndom","radom","ranom","randm","rando","rrandom","raandom","ranndom","randdom","randoom","randomm","arndom","rnadom","radnom","ranodm","randmo","eandom","4andom","5andom","tandom","gandom","fandom","dandom","rqndom","rwndom","rsndom","rxndom","rzndom","rabdom","rahdom","rajdom","ramdom","ransom","raneom","ranrom","ranfom","rancom","ranxom","randim","rand9m","rand0m","randpm","randlm","randkm","randon","randoj","randok","erandom","reandom","4random","r4andom","5random","r5andom","trandom","rtandom","grandom","rgandom","frandom","rfandom","drandom","rdandom","rqandom","raqndom","rwandom","rawndom","rsandom","rasndom","rxandom","raxndom","rzandom","razndom","rabndom","ranbdom","rahndom","ranhdom","rajndom","ranjdom","ramndom","ranmdom","ransdom","randsom","ranedom","randeom","ranrdom","randrom","ranfdom","randfom","rancdom","randcom","ranxdom","randxom","randiom","randoim","rand9om","rando9m","rand0om","rando0m","randpom","randopm","randlom","randolm","randkom","randokm","randonm","randomn","randojm","randomj","randokm","randomk"],["ScaleBook","scalebook"],["Leland","leland"],["Jansen","jansen"]];for(i=0;i<a.length;i++)for(j=0;j<e.length;j++)for(k=1;k<e[j].length;k++)a[i]===e[j][k]&&(a[i]=e[j][0]);return a}function removePlural(a){"use strict";for(i=0;i<a.length;i++)1!==a[i].length&&"s"===a[i].charAt(a[i].length-1)&&(a[i]=a[i].substring(0,a[i].length-1));return a}function replaceSynonym(a){"use strict";var e=[["random","rando","shuffle","any","pick","surprise","some","whichever","whatever","unsystematic","unmethodical","arbitrary","undirected","indiscrimina","nonspecifi","unspecifi","haphazard","erratic","chance","gamble","fluke"],["is","does","did","are","was","were","can"],["reptile","lizard","snake","dinosaur"],["weigh","weight","mass","bathroom","balance"],["hello","hi","hey","howdy","greeting","salutation"],["c","do"],["d","re"],["e","mi"],["f","fa"],["g","so"],["a","la"],["b","ti"]];for(i=0;i<a.length;i++)for(j=0;j<e.length;j++)for(k=1;k<e[j].length;k++)if(a[i]===e[j][k]){a[i]=e[j][0];break}return a}function rewriteContraction(a){"use strict";var e=[["aren't","are not"],["can't","cannot"],["couldn't","could not"],["didn't","did not"],["doesn't","does not"],["don't","do not"],["hadn't","had not"],["hasn't","has not"],["haven't","have not"],["he'd","he had"],["he'll","he will"],["he's","he is"],["i'd","i had"],["i'll","i will"],["i'm","i am"],["i've","i have"],["isn't","is not"],["it's","it is"],["let's","let us"],["mightn't","might not"],["mustn't","must not"],["shan't","shall not"],["she'd","she had"],["she'll","she will"],["she's","she is"],["shouldn't","should not"],["that's","that is"],["there's","there is"],["they'd","they had"],["they'll","they will"],["they're","they are"],["they've","they have"],["we'd","we had"],["we're","we are"],["we've","we have"],["weren't","were not"],["what'll","what will"],["what're","what are"],["what's","what is"],["what've","what have"],["where's","where is"],["who'd","who had"],["who'll","who will"],["who're","who are"],["who's","who is"],["who've","who have"],["won't","will not"],["wouldn't","would not"],["you'd","you had"],["you'll","you will"],["you're","you are"],["you've","you have"],["'sup","what is up"]];for(i=0;i<a.length;i++)for(j=0;j<e.length;j++)if(a[i].replace("'","")===e[j][0].replace("'","")){a[i]=e[j][1];break}return a=a.join(" ").split(" ")}function wordToNumber(a){"use strict";var e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];for(i=0;i<a.length;i++)if("no"===a[i])a[i]=0,"key"===a[i+1]&&(a[i+1]="sharp",i+=1);else if("natural"===a[i]&&"key"===a[i+1])a[i]=0,a[i+1]="sharp",i+=1;else for(j=0;j<e.length;j++)if(a[i]===e[j]){a[i]=j;break}return a}function pronounEdit(a){"use strict";var e=["all","another","any","anybody","anyone","anything","both","each","each other","either","everybody","everyone","everything","few","he","her","hers","herself","him","himself","his","it","its","itself","little","many","me","mine","more","most","much","my","myself","neither","no one","nobody","none","nothing","one","one another","other","others","our","ours","ourselves","several","she","some","somebody","someone","something","that","their","theirs","them","themselves","these","they","this","those","us","we","what","whatever","which","whichever","who","whoever","whom","whomever","whose","you","your","yours","yourself","yourselves"];for(i=0;i<a.length;i++)for(j=0;j<e.length;j++)if(a[i]===e[j]&&"is"===a[i+1]){a[i+1]="",i+=1;break}return a}function removeWordKeywords(a){"use strict";var e=["random","scale","mode","key"],n=["ionian","dorian","phrygian","lydian","mixolydian","aeolian","locrian"];for(i=0;i<a.length;i++){for(j=0;j<e.length;j++)a[i]===e[j]&&"a"===a[i-1]&&(a[i-1]="");for("pentatonic"===a[i]?"major"===a[i-1]||"minor"===a[i-1]?a[i-1]="":("major"===a[i+1]||"minor"===a[i+1])&&(a[i+1]="",i+=1):"how"===a[i]&&"many"===a[i+1]&&(a[i]="key",a[i+1]="signature","sharp"===a[i+2]||"flat"===a[i+2]?(a[i+2]="",i+=2):i+=1),j=0;j<n.length;j++)if(a[i]===n[j]&&"mode"===a[i+1]){a[i+1]="",i+=1;
break}}return a}function multipleAccidental(a){"use strict";var e=[["single",1],["double",2],["triple",3],["quadruple",4],["quintuple",5],["pentuple",5],["sextuple",6],["hextuple",6],["septuple",7],["octuple",8],["nonuple",9],["decuple",10],["hendecuple",11],["undecuple",11],["duodecuple",12]];for(i=0;i<a.length;i++)for(j=0;j<e.length;j++)if(a[i]===e[j][0]&&("sharp"===a[i+1]||"flat"===a[i+1])){for(a[i]="wordMultiple",k=0;k<e[j][1]-1;k++)a[i]+=" "+a[i+1];i+=1;break}return a=a.join(" ").split(" ")}function randomInteger(a,e){"use strict";return Math.floor(Math.random()*(Math.abs(e)-Math.abs(a)+1)+a)}function stringScore(a,e){"use strict";switch(e){case"scale":e=0;break;case"whiteNote":e=1;break;case"accidental":e=2}for(i=0;i<a.length;i++)for(j=0;j<scaleScore[e].length;j++){if(0===e&&"mode"===a[i]){for(k=2;9>k;k++)scaleScore[0][k][2]+=1;break}0===e&&13===j?"whole"===a[i]&&"tone"===a[i+1]&&(scaleScore[0][13][2]+=1):a[i]===scaleScore[e][j][0]&&(scaleScore[e][j][2]+=scaleScore[e][j][1])}}function sumScaleScore(a){"use strict";switch(a){case"scale":a=0;break;case"whiteNote":a=1;break;case"accidental":a=2}var e=0;for(j=0;j<scaleScore[a].length;j++)e+=scaleScore[a][j][2];return e}function zeroScaleScore(a){"use strict";switch(a){case"scale":a=0;break;case"whiteNote":a=1;break;case"accidental":a=2}for(i=0;i<scaleScore[a].length;i++)scaleScore[a][i][2]=0}function getHighestValue(a){"use strict";switch(a){case"scale":a=0;break;case"whiteNote":a=1;break;case"accidental":a=2}var e=null,n=0;for(i=0;i<scaleScore[a].length;i++)scaleScore[a][i][2]>n&&(n=scaleScore[a][i][2],e=i);var r=!1;for(i=0;i<scaleScore[a].length;i++)if(i!==e&&scaleScore[a][i][2]===n){r=!0;break}return r===!1?scaleScore[a][e][0]:null}function determineKeySignatureFromString(a){"use strict";var e=null;for(i=0;i<a.length;i++)if(a[i]>=0&&a[i]<=7){if("sharp"===a[i+1]){e=a[i],a[i]="",a[i+1]="","or"===a[i+2]&&"flat"===a[i+3]?a[i+3]="":"flat"===a[i+2]&&(a[i+2]="");break}if("flat"===a[i+1]){e=-1*a[i],a[i]="",a[i+1]="","or"===a[i+2]&&"sharp"===a[i+3]?a[i+3]="":"sharp"===a[i+2]&&(a[i+2]="");break}}return e}function whiteNoteNameToNumber(a){"use strict";for(a=a.toUpperCase(),i=0;i<whiteNoteChart.length;i++)if(a===whiteNoteChart[i][1])return whiteNoteChart[i][0]}function determineKeySignatureName(a){"use strict";var e;return null===a?e=null:Number(a)<0?e=-1*a+" flat":Number(a)>0?e=a+" sharp":0===Number(a)&&(e="0 sharps or flats"),0!==Math.abs(a)&&1!==Math.abs(a)&&(e+="s"),e}function determineWhiteNoteName(a){"use strict";var e=null;for(i=0;i<whiteNoteChart.length;i++)if(a===whiteNoteChart[i][0]){e=whiteNoteChart[i][1];break}return e}function determineEnharmonic(a,e){"use strict";var n=whiteNoteNameToNumber(a[0].toUpperCase());a.indexOf("sharp")>-1?(n+=1,n=(n+12)%12,scaleScore[2][1][2]+=scaleScore[2][1][1]):a.indexOf("flat")>-1&&(n-=1,n=(n+12)%12,scaleScore[2][2][2]+=scaleScore[2][2][1]),e=determineScaleName(e);var r;for(i=0;i<scaleScore[0].length;i++)if(e===scaleScore[0][i][0]){r=i;break}var o,t=determineKeySignature(n,e);for(i=0;i<enharmonicList.length;i++)if(a===enharmonicList[i][0]){o=enharmonicList[i][1];break}var l,c=!1;if(0===t)c=r>8?!1:a.indexOf("sharp")>-1||a.indexOf("flat")>-1?!0:!1;else if(t>0){for(l=-7;0>l;l++)if(determineNote(e,l)===n){c=!0;break}}else if(0>t)for(l=1;8>l;l++)if(determineNote(e,l)===n){c=!0;break}return c===!1&&(o="None"),o}function determineNoteName(a,e){"use strict";var n=determineWhiteNoteName(a);if(e=Number(e),"undefined"===a?n="undefined":(n=determineWhiteNoteName(a),null===n&&(sumScaleScore("accidental")<0||0>e&&e>-8?n=determineWhiteNoteName(a+1)+"-flat":(sumScaleScore("accidental")>0||e>0&&8>e)&&(n=determineWhiteNoteName(a-1)+"-sharp"))),11!==a||-6!==e&&-7!==e)if(4===a&&-7===e)n="F-flat";else if(5!==a||6!==e&&7!==e){if(0===a&&7===e)n="B-sharp";else if(e>0&&n.indexOf("flat")>-1||0>e&&n.indexOf("sharp")<-1)for(i=0;i<enharmonicList.length;i++)if(n===enharmonicList[i][0]){n=enharmonicList[i][1];break}}else n="E-sharp";else n="C-flat";return n}function determineScaleName(a){"use strict";var e;return e="blue"===a?"blues":"whole"===a?"whole tone":a}function determineNote(a,e){"use strict";for(i=0;i<modeConversion.length;i++)if(modeConversion[i][0]===a){a=modeConversion[i][1];break}var n=(84-a+7*e)%12;return n}function determineScale(a,e){"use strict";var n=a+(84-7*e)%12;n=-1*(12+n)%12;var r;for(i=0;i<modeConversion.length;i++)if(modeConversion[i][1]===n){r=modeConversion[i][0];break}return r}function determineKeySignature(a,e){"use strict";var n,r;for(i=0;i<scaleScore[0].length;i++)if(e===scaleScore[0][i][0]){r=i;break}if(r>8)n=0;else{var o=0;for(i=0;i<modeConversion.length;i++)if(modeConversion[i][0]===e){o=modeConversion[i][1];break}var t=a+o;if(n=0,t%12!==0&&sumScaleScore("accidental")>=0)for(i=0;8>i&&(t-=7,n+=1,t%12!==0);i++);if(t%12!==0&&sumScaleScore("accidental")<=0)for(t=a+o,n=0,i=0;8>i&&(t+=7,n-=1,t%12!==0);i++);if(-7>n)for(t=a+o,n=0,i=0;8>i&&(t-=7,n+=1,t%12!==0);i++);else if(n>7)for(t=a+o,n=0,i=0;8>i&&(t+=7,n-=1,t%12!==0);i++);(-7>n||n>7)&&(n=0)}return Number(n)}function checkInput(a,e,i){"use strict";return Number(i)===Number(determineKeySignature(a,e))?!0:!1}function listKeySignatureNotes(a){"use strict";var e,i;if(0===a)e="";else if(a>0){for(i=11,e="<br/>(",k=0;a>k;k++)i+=7,1!==a&&0!==k&&(e+=", "),e+=determineWhiteNoteName((i-1)%12)+"-sharp";e+=")"}else if(0>a){for(i=89,e="<br/>(",k=0;-1*a>k;k++)i-=7,-1!==a&&0!==k&&(e+=", "),e+=determineWhiteNoteName((i+1)%12)+"-flat";e+=")"}return e}function textStyle(a){"use strict";return null!==a?a.replace(/-/g," ").replace(/ sharps or flats/g,"<span class='musicText'>#</span>/<span class='musicText'>b</span>").replace(/ sharps/g,"<span class='musicText'>#</span>").replace(/ sharp/g,"<span class='musicText'>#</span>").replace(/ flats/g,"<span class='musicText'>b</span>").replace(/ flat/g,"<span class='musicText'>b</span>"):null}function parseUserInput(a){"use strict";void 0===a&&(a="");var e=a.toLowerCase();e=replaceSpecialCharacters(e),e=e.split("-"),e=letterToAccidental(e),e=e.join("-").split("-"),e=fixTypo(e),e=removePlural(e),e=replaceSynonym(e),e=rewriteContraction(e),e=wordToNumber(e),e=pronounEdit(e),e=removeWordKeywords(e),e=multipleAccidental(e),zeroScaleScore("scale"),zeroScaleScore("whiteNote"),zeroScaleScore("accidental");var n=determineKeySignatureFromString(e);stringScore(e,"scale"),stringScore(e,"whiteNote"),stringScore(e,"accidental"),0===sumScaleScore("accidental")&&sumScaleScore("whiteNote")>1&&scaleScore[1][6][2]>0&&(scaleScore[1][6][2]-=1,scaleScore[2][2][2]-=1),scaleScore[1][5][2]<=1&&scaleScore[2][1][2]<=1&&sumScaleScore("whiteNote")>1&&(scaleScore[1][5][2]-=scaleScore[1][5][1]);var r=!1,o=!1,t=!1,l=!1,c=!1,s=!1,m=!1,h=!1;for(i=0;i<e.length;i++)switch(e[i]){case"is":r=!0;break;case"what":o=!0;break;case"random":t=!0;break;case"relative":l=!0;break;case"key":c=!0;break;case"scale":s=!0;break;case"mode":m=!0;break;case"go":h=!0}var d,p;o===!0&&null!==n&&.1===scaleScore[1][5][2]&&(scaleScore[1][5][2]=0);var u=getHighestValue("scale"),y=null;null!==getHighestValue("whiteNote")&&(y=(144+whiteNoteNameToNumber(getHighestValue("whiteNote"))+sumScaleScore("accidental"))%12);var g,f,x,w,v,b;if(b="answer",""===e.toString())w="",v="";else if(null!==y&&null!==u&&null!==n){var S=0;for(i=0;i<e.length;i++)"not"===e[i]&&(S+=1);v=checkInput(y,u,n),g=determineKeySignatureName(n),x=determineScaleName(u),f=determineNoteName(y,n,x),S%2!==0?(v=!v,w="Does the <a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x+" scale built on "+textStyle(f)+"</a> not have a key signature of "+textStyle(g)+"?"):w="Does the <a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x+" scale built on "+textStyle(f)+"</a> have a key signature of "+textStyle(g)+"?";var N=["yes","certainly","absolutely","definitely","indeed","affirmative"];switch(v){case!0:v=N[randomInteger(0,N.length-1)];break;case!1:v="No"}}else if(null!==y&&null===u&&null===n&&2===sumScaleScore("scale")){var z=determineWhiteNoteName(y-sumScaleScore("accidental")).toLowerCase(),C=null,q=null,A=null,O=null,K=null;for(i=0;i<e.length;i++){if(e[i]===z)C=i;else for(j=0;9>j&&(e[i]===scaleScore[0][j][0]&&1===scaleScore[0][j][2]&&null===q?(q=scaleScore[0][j][0],A=i):e[i]===scaleScore[0][j][0]&&1===scaleScore[0][j][2]&&null!==q&&(O=scaleScore[0][j][0],K=i),null===q||null===O);j++);if(null!==q&&null!==O)break}var U,W;A>C&&K>C?(W=q,U=O):(W=O,U=q),f=determineNoteName(y,n,W),w="What "+U+" scale is relative to the <a href='/scale?/"+f+"/#/"+W.replace(/\s+/g,"")+"'>"+W+" scale built on "+textStyle(f)+"</a>?",n=determineKeySignature(y,W),y=determineNote(U,n),x=U,f=determineNoteName(y,n,U),v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",h===!0&&(b="scale")}else if(null!==y&&null!==u&&null===n&&l===!0)for(x=determineScaleName(u),n=determineKeySignature(y,u),f=determineNoteName(y,n,x),v="",m===!0?(w="What modes are relative to the <a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x+x.slice(1)+" scale built on "+textStyle(f)+"</a>?",d=2):(w="What scales are relative to the <a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x+" scale built on "+textStyle(f)+"</a>?",d=0),k=d;9>k;k++)u=scaleScore[0][k][0],x=determineScaleName(u),y=determineNote(u,n),f=determineNoteName(y,n,x),v+=8!==k?"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a><br/>":"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>";else if(null!==y&&null!==u&&null===n&&c===!1)n=determineKeySignature(y,u),x=determineScaleName(u),f=determineNoteName(y,n,x),w="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale";else if(null!==y&&null!==u&&null===n&&c===!0)n=determineKeySignature(y,u),g=determineKeySignatureName(n),x=determineScaleName(u),f=determineNoteName(y,n,x),w="What is the key signature of the <a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x+" scale built on "+textStyle(f)+"</a>?",v=textStyle(g+listKeySignatureNotes(n));else if(null!==y&&null===u&&null===n&&s===!1&&m===!1&&t===!1)u="major",x="major",x=determineScaleName(u),n=determineKeySignature(y,u),f=determineNoteName(y,n,x),w="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale";else if(null===y&&null!==u&&null!==n)x=determineScaleName(u),g=determineKeySignatureName(n),w="What "+x+" scale has a key signature of "+textStyle(g)+"?",y=determineNote(u,n),f=determineNoteName(y,n,x),-1===f.indexOf("null")?(v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",h===!0&&(b="scale")):v="No such scale exists";else if(null===y&&null===u&&null!==n&&t===!1)for(g=determineKeySignatureName(n),v="",p=8,m===!0?(w="What modes have a key signature of "+textStyle(g)+"?",d=2):(w="What scales have a key signature of "+textStyle(g)+"?",d=0),k=d;p>=k;k++)u=scaleScore[0][k][0],x=determineScaleName(u),y=determineNote(u,n),f=determineNoteName(y,n,x),2===k&&2!==d&&(v+="&#151;<br/>"),v+=k!==p?"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a><br/>":"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>";else if(null!==y&&null===u&&null!==n&&t===!1)f=determineNoteName(y,n,null),g=determineKeySignatureName(n),w="What scale built on "+textStyle(f)+" has a key signature of "+textStyle(g)+"?",u=determineScale(y,n),x=determineScaleName(u),f=determineNoteName(y,n,x),m===!1&&("ionian"===x?x="major":"aeolian"===x&&(x="minor")),v=isNaN(parseInt(x))?"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>":"There does not exist such a scale",h===!0&&(b="scale");else if(null===y||null!==u||null!==n||t!==!1||s!==!0&&m!==!0)null===y&&null===u&&null===n&&t===!0?(m===!0?(w="Generate a random mode",u=scaleScore[0][randomInteger(2,8)][0]):(w="Generate a random scale",u=scaleScore[0][randomInteger(0,scaleScore[0].length-1)][0]),y=randomInteger(0,11),n=determineKeySignature(y,u),x=determineScaleName(u),f=determineNoteName(y,n,x),v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale"):null!==y&&null===u&&null===n&&t===!0?(m===!0?(u=scaleScore[0][randomInteger(2,8)][0],n=determineKeySignature(y,u),f=determineNoteName(y,n,null),w="Generate a random mode built on "+textStyle(f)):(u=scaleScore[0][randomInteger(0,scaleScore[0].length-1)][0],n=determineKeySignature(y,u),f=determineNoteName(y,n,null),w="Generate a random scale built on "+textStyle(f)),x=determineScaleName(u),v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale"):null===y&&null!==u&&null===n?(x=determineScaleName(u),w="Generate a random "+x+" scale",y=randomInteger(0,11),n=determineKeySignature(y,u),f=determineNoteName(y,n,x),v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale"):null===y&&null===u&&null!==n&&t===!0?(g=determineKeySignatureName(n),m===!0?(w="Generate a random mode with a key signature of "+textStyle(g),u=scaleScore[0][randomInteger(2,8)][0]):(w="Generate a random scale with a key signature of "+textStyle(g),u=scaleScore[0][randomInteger(0,8)][0]),x=determineScaleName(u),y=determineNote(u,n),f=determineNoteName(y,n,x),v="<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>",b="scale"):e.join(" ").indexOf("ph")>-1?(w="pH scale",v="Titrations? Let's take things down an octave and drop the base!"):e.join(" ").indexOf("richter")>-1?(w="Richter scale",v="Trying to shake things up, are we?"):e.join(" ").indexOf("decibel")>-1?(w="Decibel scale",v="Let's make some noise!"):e.join(" ").indexOf("fish")>-1?(w="Fish scale",v="I sea there's something about fishy about your query..."):e.join(" ").indexOf("reptile")>-1?(w="Lizard scale",v="What kind of tiles won't stay on the floor? Reptiles!"):e.join(" ").indexOf("log")>-1?(w="Logarithmic scale",v="Why are mathematicians also good musicians? They know their log-a-rythms!"):e.join(" ").indexOf("justice")>-1?(w="Justice scale",v="ScaleBook can give you an objective answer... So long as it is about music."):e.join(" ").indexOf("weig")>-1?(w="Weigh scale",v="If you want that scale, you'll have to weight."):e.join(" ").indexOf("life")>-1||e.join(" ").indexOf("universe")>-1||e.join(" ").indexOf("everything")>-1?(w="Answer to the Ultimate Question of Life, the Universe, and Everything",v="42"):e.join(" ").indexOf("hello")>-1?(w=a.charAt(0).toUpperCase()+a.slice(1),v="Greetings!"):e.join(" ").indexOf("up")>-1?(w="What's up?",v="Note much"):e.join(" ").indexOf("ScaleBook")>-1?(w="ScaleBook",v="Hey, that's me!"):e.join(" ").indexOf("Leland")>-1||e.join(" ").indexOf("Jansen")>-1?(w="Leland Jansen",v="He made ScaleBook"):e.join(" ").indexOf("scale")>-1&&e.join(" ").indexOf("1")>-1&&e.join(" ").indexOf("10")>-1?(w="On a scale from one to ten...",v=randomInteger(1,10).toString()):e.join(" ").indexOf("error")>-1?(w="Report an error",v="What seems to be the problem?",b="error"):"cpanel"===e.join(" ")?(w="Go to cPanel",v="Hello, Leland!",b="cpanel"):"github"===e.join(" ")?(w="Go to GitHub",v="Let's git to it!",b="github"):(w="???",v="ScaleBook cannot understand your query.<br/><span style='font-size: 12pt'><span class='colorLight'>If this is a mistake, please <u><a href='#/error'>report an error</a></u>.</span></span>");else for(f=determineNoteName(y,n,null),s===!0?(w="What scales are built on "+textStyle(f)+"?",d=0,p=scaleScore[0].length):m===!0&&(w="What modes are built on "+textStyle(f)+"?",d=2,p=9),v="",k=d;p>k;k++)u=scaleScore[0][k][0],x=determineScaleName(u),n=determineKeySignature(y,u),f=determineNoteName(y,n,x),(2===k&&2!==d||9===k&&9!==p)&&(v+="&#151;<br/>"),v+=k!==p-1?"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a><br/>":"<a href='/scale?/"+f+"/#/"+x.replace(/\s+/g,"")+"'>"+x.charAt(0).toUpperCase()+x.slice(1)+" scale built on "+textStyle(f)+"</a>";return"pH scale"!==w&&(w=w.charAt(0).toUpperCase()+w.slice(1)),v=v.charAt(0).toUpperCase()+v.slice(1),[w,v,b,f,x,g]}function generateScale(a,e){"use strict";var n=0,r=[[],[],[],[]];for(i=0;i<whiteNoteChart.length;i++)if(a[0].toUpperCase()===whiteNoteChart[i][1]){n+=whiteNoteChart[i][0];break}for(r[1][0]=n,j=1;j<whiteNoteChart.length;j++)r[1][j]=whiteNoteChart[(i+j)%7][0]%12;for(a.indexOf("sharp")>-1?n+=1:a.indexOf("flat")>-1&&(n-=1),r[0].push(n),i=1;i<e.length;i++)r[0][i]=(r[0][i-1]+e[i-1])%12;for(i=0;i<e.length;i++)r[2][i]=(r[0][i]-r[1][i])%12,11===r[2][i]&&(r[2][i]=-1);var o;for(i=0;i<r[0].length;i++)for(o=!1,j=0;j<whiteNoteChart.length&&(r[1][i]===whiteNoteChart[j][0]&&(r[3][i]=whiteNoteChart[j][1],o=!0),1===r[2][i]?r[3][i]+="-sharp":-1===r[2][i]&&(r[3][i]+="-flat"),o!==!0);j++);return r}var i,j,k,scaleScore=[[["major",1,0],["minor",1,0],["ionian",1,0],["dorian",1,0],["phrygian",1,0],["lydian",1,0],["mixolydian",1,0],["aeolian",1,0],["locrian",1,0],["blue",10,0],["chromatic",10,0],["pentatonic",10,0],["whole",10,0]],[["c",1,0],["d",1,0],["e",1,0],["f",1,0],["g",1,0],["a",.1,0],["b",1,0]],[["natural",0,0],["sharp",1,0],["flat",-1,0]]],whiteNoteChart=[[0,"C"],[2,"D"],[4,"E"],[5,"F"],[7,"G"],[9,"A"],[11,"B"]],enharmonicList=[["C-flat","B"],["C","B-sharp"],["C-sharp","D-flat"],["D-flat","C-sharp"],["D","None"],["D-sharp","E-flat"],["E-flat","D-sharp"],["E","F-flat"],["E-sharp","F"],["F-flat","E"],["F","E-sharp"],["F-sharp","G-flat"],["G-flat","F-sharp"],["G","None"],["G-sharp","A-flat"],["A-flat","G-sharp"],["A","None"],["A-sharp","B-flat"],["B-flat","A-sharp"],["B","C-flat"],["B-sharp","C"]],modeConversion=[["ionian",0],["major",0],["dorian",-2],["phrygian",-4],["lydian",-5],["mixolydian",-7],["aeolian",-9],["minor",-9],["locrian",-11]];